<!doctype html>
<html class="no-js" lang="en" dir="ltr">
  <head>
    
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Account Settings</title>
    <link rel="stylesheet" href="css/foundation.css">
    <link rel="stylesheet" href="css/app.css">
    <link rel="stylesheet" href="css/main.css">
    <link href="http://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css" rel="stylesheet">

  </head>
  <body>
      <!-- 
          Home Page -->

<div class="nav">
<div class="top-bar">
  <div class="top-bar-left">
    <h3><i class="fi-crown" style="color: #3399ff;">&nbsp&nbsp</i><span>CodeChamps</span>&nbsp&nbsp

  </div>
  <div class="top-bar-right">

    <ul id="logindd" class="dropdown menu" data-dropdown-menu data-close-on-click-inside="false">
      <li><a href="Home.html"><b style="font-size:26px" class="fi-home"></b></a></li>
		  <li>
			<a href="Account.html">Login</a>
			<ul class="menu vertical">
				<li>
				<form action="/Account.html" method="post">
						<label><b>Username</b></label>
							<input type="text" name="user_name" placeholder="username" class="timeblock"/>
						<label><b>Password</b></label>
							<input type="password" name="user_password" placeholder="password" class="timeblock"/>
						<center><button type="submit" class="submit success button">Log in</button></center>
					<p><center>Don't have an account?<br> <a href="CreateAccount.html"><b>Create one now.</b></a></center></p>
				</form>
				</li>
		  </ul>
		  </li>
      <li>
	<a href="Versus.html">Game</a>
	<ul class="menu vertical">
	  <li><a href="PracticeMode.html">Practice Mode</a></li>
	  <li><a href="Versus.html">Versus Match</a></li>

	</ul>
      </li>


      <li><a href="Account.html">Account</a></li>
      <li><a href="Stats.html">Stats</a></li>
      <li><a href="Leaderboards.html">Leaderboards</a></li>
      <li><a href="History.html">History</a></li>
	   <li><a href="CreateAccount.html">Sign Up</a></li>
     <li><a href="Home.html" onClick= "logOut(); return false;">Log Out</a></li>
    </ul>

  </div>
  </div>
  </div>
<form action="/AccountSettings.html" name = "signUp"
      onsubmit="return checkBeforeSubmission()" method="post">
      <div class="legacysignupForm">
        <h1>Account Settings</h1>
                <p>* Required Fields</p>

        
        <fieldset>
          <legend>Enter the info that you wish to change: </legend>
          <label for="name">* First Name:</label>
          <input type="text" id="firstName" name="first_name" onblur="firstNameWrong()">
          <p id="firstNameWrong"></p>
          
          <label for="name">* Last Name:</label>
          <input type="text" id="lastName" name="last_name" onblur="lastNameWrong()">
          <p id="lastNameWrong"></p>

          <label for="name">* Your Username:</label>
          <input type="text" id="username" name="user_name" onblur="validUsername()">
          <p id="usernameWrong"></p>

          <label for="change">* What you Wish to Update (please select from the following):</label>
        <select id="changeWhat" name="user_changes" onClick="hiddenValue()">
          <optgroup label="What to Change">
            <option value= "0">Change Username Only</option>
            <option value="1">Change Password Only</option>
            <option value="2">Change Email Only</option>
            <option value="3">Change Username and Password</option>
            <option value="4">Change Username, Password, and Email
          </optgroup>
        </select>
          <label for="name" id="oldUsernameLabel" class="hidden">Old Username:</label>
          <input type="hidden" id="oldUsername" name="old_user_name" onblur="validUsername()">
          <p id="usernameWrong"></p>

          <label for="name" id="newUsernameLabel" class="hidden">New Username:</label>
          <input type="hidden" id="newUsername" name="new_user_name" onblur="validUsernameNew()">
          <p id="newUsernameWrong"></p>

          <label for="email" id="oldMailLabel" class="hidden">Old Email:</label>
          <input type="hidden" id="oldMail" name="old_user_email" onblur="checkFirstEmail()">
          <p id="originalEmailWrong"></p>

          <label for="email" id="mailLabel" class="hidden">New Email:</label>
          <input type="hidden" id="theMail" name="new_user_email" onblur="checkNewEmailFirst()">
          <p id="newEmailWrong"></p>

          <label for="email" id="reMailLabel" class="hidden">Reenter New Email:</label>
          <input type="hidden" id="reMail" name="new_user_reentered_email" onblur="checkEmail()">
          <p id="emailWrong"></p>
          
          <label for="password" id="oldPasswordLabel" class="hidden">Old Password:</label>
          <input type="hidden" id="old_password" name="old_user_password" onblur="checkOldPassword()">
          <p id="oldPasswordWrong"></p>

          <label for="password" id="newPasswordLabel" class="hidden">New Password:</label>
          <input type="hidden" id="new_password" name="new_user_password" onblur="checkFirstPassword()">
          <p id="newPasswordWrong"></p>
          <label for="password" id="reNewPasswordLabel" class="hidden">Reenter New Password:</label>
          <input type="hidden" id="new_password_reentered" name="new_user_confirm_password" onblur="checkPassword()">
          <p id="passwordWrong"></p>
        </fieldset>
        <button type="submit">Save</button>
        </form>
  </div>
  <script>
        function checkFirstEmail() {
          var getEmail = document.getElementById("oldMail");
          var eMail = getEmail.value;
          eMail = eMail.replace(/\s+/g, '');
          var At = 0;
          var text = "";
      for (var i = 0; i < eMail.length; i++) {
        if(eMail.charAt(i) == "@") {
          At = 1;
        }
      }
      if (!eMail.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/) && eMail.length != 0) {
        text = "* Email is not valid. Please retype.";
              text = text.fontcolor("red");
            document.getElementById("originalEmailWrong").innerHTML = text;
      }
      else {
        document.getElementById("originalEmailWrong").innerHTML = text;
      }
        }
      </script>

        <script>
          function checkEmail() {
            var getEmail = document.getElementById("mail");
            var getReEmail = document.getElementById("reMail");
            var email1 = getEmail.value;
        var email2 = getReEmail.value;
        var text = "";
        email1 = email1.replace(/\s+/g, '');
        email2 = email2.replace(/\s+/g, '');
            if (email1 != email2) {
              text = "* Emails do not match. Please retype.";
              text = text.fontcolor("red");
            document.getElementById("emailWrong").innerHTML = text;
            }
            else {
              document.getElementById("emailWrong").innerHTML = text;
            }
          }
          </script>
  <script>
        function checkNewEmailFirst() {
          var getEmail = document.getElementById("theMail");
          var eMail = getEmail.value;
          eMail = eMail.replace(/\s+/g, '');
          var At = 0;
          var text = "";
      for (var i = 0; i < eMail.length; i++) {
        if(eMail.charAt(i) == "@") {
          At = 1;
        }
      }
      if (!eMail.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/) && eMail.length != 0) {
        text = "* Email is not valid. Please retype.";
              text = text.fontcolor("red");
            document.getElementById("originalEmailWrong").innerHTML = text;
      }
      else {
        document.getElementById("originalEmailWrong").innerHTML = text;
      }
        }
      </script>
          <script>
          function checkOldPassword() {
            var oldPassword = document.getElementById("old_password").value;
            var newPassword = document.getElementById("new_password").value;
            var text = "";
            if (oldPassword.length == 0 && newPassword.length > 0) {
                text = "* Please enter your old password.";
                text = text.fontcolor("red");
                document.getElementById("oldPasswordWrong").innerHTML = text;
            }
            else {
                document.getElementById("oldPasswordWrong").innerHTML = text;
            }
          }
          </script>
          <script>
            function checkFirstPassword() {
              var getPassword = document.getElementById("new_password");
              var password = getPassword.value;
              var capital = 0;
              var number = 0;
              var text = "";
              var whiteSpace = /\s/g;
              if (password.match(/\s/g)) {
                text = "* Please enter a password without whitespace characters.";
                text = text.fontcolor("red");
              document.getElementById("firstPasswordWrong").innerHTML = text;
        }
              else if (password.length == 0) {
                text = "* Please enter a password.";
                text = text.fontcolor("red");
              document.getElementById("firstPasswordWrong").innerHTML = text;
              }
              else if (password.length < 6) {
                text = "* Please enter a password containing at least 6 characters, 1 capital letter and 1 number.";
                text = text.fontcolor("red");
              document.getElementById("firstPasswordWrong").innerHTML = text;
              }
              else if(!password.match((/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).*$/))) {
                text = "* Please enter a password containing at least 1 capital letter and 1 number.";
                text = text.fontcolor("red");
              document.getElementById("firstPasswordWrong").innerHTML = text;
              }
              else {
                document.getElementById("firstPasswordWrong").innerHTML = text;
              }
            }
          </script>

          

         <script>
          function validAge() {
            var getAge = document.getElementById("userAge");
            var age = getAge.value;
            var text = "";
            if(age < 0 || age > 110) {
              text = "* Please enter your real age.";
              text = text.fontcolor("red");
              document.getElementById("ageWrong").innerHTML = text;
            }
            else if(age =='') {
              text = "* Please enter an age.";
              text = text.fontcolor("red");
              document.getElementById("ageWrong").innerHTML = text;
            }
            else if(isNaN(age)) {
              text = "* Please enter your age as a number.";
              text = text.fontcolor("red");
              document.getElementById("ageWrong").innerHTML = text;
            }
            else {
              document.getElementById("ageWrong").innerHTML = text;
            }
          }
         </script>
         <script>
          function validUsername() {
            var getUsername = document.getElementById("oldUsername");
            var userName = getUsername.value;
            var newUsername = document.getElementById("newUsername").value;
            var usernameRegexpression = /^[a-zA-Z0-9]+$/;
            var text = "";
            if (userName.length == 0 || newUsername.length > 0) {
              text = "* Please enter your old username.";
              text = text.fontcolor("red");
              document.getElementById("usernameWrong").innerHTML = text;
            }
            else if (userName.length < 6) {
              text = "* Please enter a username containing at least 6 characters.";
              text = text.fontcolor("red");
              document.getElementById("usernameWrong").innerHTML = text;
            }
            else if (!userName.match(usernameRegexpression)) {
              text = "* Illegal character(s) detected. Please use only letters and numbers for your username.";
              text = text.fontcolor("red");
              document.getElementById("usernameWrong").innerHTML = text;
            }
            else {
              document.getElementById("usernameWrong").innerHTML = text;
            }
          }
        </script>

        <script>
          function validUsernameNew() {
            var getUsername = document.getElementById("newUsername");
            var newUserName = getUsername.value;
            var usernameRegexpression = /^[a-zA-Z0-9]+$/;
            var text = "";
            if (newUserName.length == 0) {
              text = "* Please enter a new username.";
              text = text.fontcolor("red");
              document.getElementById("newUsernameWrong").innerHTML = text;
            }
            else if (newUserName.length < 6) {
              text = "* Please enter a new username containing at least 6 characters.";
              text = text.fontcolor("red");
              document.getElementById("newUsernameWrong").innerHTML = text;
            }
            else if (!newUserName.match(usernameRegexpression)) {
              text = "* Illegal character(s) detected. Please use only letters and numbers for your username.";
              text = text.fontcolor("red");
              document.getElementById("newUsernameWrong").innerHTML = text;
            }
            else {
              document.getElementById("newUsernameWrong").innerHTML = text;
            }
          }
        </script>

        <script>
          function firstNameWrong() {
            var getFirstName = document.getElementById("firstName");
            var firstName = getFirstName.value;
            var firstName = firstName.replace(/\s+/g, '');
            var text = "";
            if (firstName.length == 0) {
              text = "* Please enter a first name.";
              text = text.fontcolor("red");
              document.getElementById("firstNameWrong").innerHTML = text;
            }
            else {
              document.getElementById("firstNameWrong").innerHTML = text;
            }
          }
        </script>
        <script>
          function lastNameWrong() {
            var getLastName = document.getElementById("lastName");
            var lastName = getLastName.value;
            var lastName = lastName.replace(/\s+/g, '');
            var text = "";
            if (lastName.length == 0) {
              text = "* Please enter a last name.";
              text = text.fontcolor("red");
              document.getElementById("lastNameWrong").innerHTML = text;
            }
            else {
              document.getElementById("lastNameWrong").innerHTML = text;
            }
          }
        </script>
      <script>
      /*function checkBeforeSubmission() {
         var getFirstName = document.getElementById("firstName");
         getFirstName = getFirstName.value.replace(/\s+/g, '');
         var getLastName = document.getElementById("lastName");
         getLastName = getLastName.value.replace(/\s+/g, '');
         var getUsername = document.getElementById("username");
         getUsername = getUsername.value.replace(/\s+/g, '');
         var getEmail = document.getElementById("mail");
         getEmail = getEmail.value.replace(/\s+/g, '');
         var getReEmail = document.getElementById("reMail");
         getReEmail = getReEmail.value.replace(/\s+/g, '');
         var getPassword = document.getElementById("password");
         getPassword = getPassword.value.replace(/\s+/g, '');
         var getRePassword = document.getElementById("password_reentered");
         getRePassword = getRePassword.value.replace(/\s+/g, '');
         var getAge = document.getElementById("userAge");
         getAge = getAge.value.replace(/\s+/g, '');
         var hasErrors = 0;
         if (getFirstName.length == 0 || getLastName.length == 0 || getUsername.length == 0 || getEmail == 0 || getReEmail == 0 || getPassword == 0 || getRePassword == 0) {
          firstNameWrong();
          lastNameWrong();
          validUsername();
          checkFirstEmail();
          checkEmail();
          checkFirstPassword();
          checkPassword();
          validAge();
          hasErrors = 1;
         }
         if (hasErrors > 0) {
          return false;
         }
         else {
          return true;
         }
      }*/
      </script>

      <script>
function hiddenValue() {
var optionSelected = document.getElementById("changeWhat").selectedIndex;
if (optionSelected == 0) {
  document.getElementById("oldUsername").type = "text";
  document.getElementById("oldUsernameLabel").className = '';
  document.getElementById("newUsername").type="text";
  document.getElementById("newUsernameLabel").className = '';
  document.getElementById("usernameWrong").innerHTML = '';
  document.getElementById("newUsernameWrong").innerHTML = '';
  document.getElementById("old_password").type="hidden";
  document.getElementById("oldPasswordLabel").className= 'hidden';
  document.getElementById("new_password").type="hidden";
  document.getElementById("newPasswordLabel").className='hidden';
  document.getElementById("new_password_reentered").type="hidden";
  document.getElementById("reNewPasswordLabel").className='hidden';
  document.getElementById("oldMail").type="hidden";
  document.getElementById("oldMailLabel").className='hidden';
  document.getElementById("theMail").type="hidden";
  document.getElementById("mailLabel").className='hidden';
  document.getElementById("reMail").type="hidden";
  document.getElementById("reMailLabel").className='hidden';

}
if (optionSelected == 1) {
  document.getElementById("oldUsername").type="hidden";
  document.getElementById("oldUsernameLabel").className = 'hidden';
  document.getElementById("newUsername").type="hidden";
  document.getElementById("newUsernameLabel").className = 'hidden';
  document.getElementById("old_password").type="password";
  document.getElementById("oldPasswordLabel").className= '';
  document.getElementById("new_password").type="password";
  document.getElementById("newPasswordLabel").className='';
  document.getElementById("new_password_reentered").type="password";
  document.getElementById("reNewPasswordLabel").className='';
  document.getElementById("oldPasswordWrong").innerHTML = '';
  document.getElementById("newPasswordWrong").innerHTML = '';
  document.getElementById("passwordWrong").innerHTML = '';
  document.getElementById("oldMail").type="hidden";
  document.getElementById("oldMailLabel").className='hidden';
  document.getElementById("theMail").type="hidden";
  document.getElementById("mailLabel").className='hidden';
  document.getElementById("reMail").type="hidden";
  document.getElementById("reMailLabel").className='hidden';

}
if (optionSelected == 2) {
  document.getElementById("oldUsername").type="hidden";
  document.getElementById("oldUsernameLabel").className = 'hidden';
  document.getElementById("newUsername").type="hidden";
  document.getElementById("newUsernameLabel").className = 'hidden';
  document.getElementById("old_password").type="hidden";
  document.getElementById("oldPasswordLabel").className= 'hidden';
  document.getElementById("new_password").type="hidden";
  document.getElementById("newPasswordLabel").className='hidden';
  document.getElementById("new_password_reentered").type="hidden";
  document.getElementById("reNewPasswordLabel").className='hidden';
  document.getElementById("oldMail").type="email";
  document.getElementById("oldMailLabel").className='';
  document.getElementById("theMail").type="email";
  document.getElementById("mailLabel").className='';
  document.getElementById("reMail").type="email";
  document.getElementById("reMailLabel").className='';

}
if (optionSelected == 3) {
  document.getElementById("oldMail").type="hidden";
  document.getElementById("oldMailLabel").className='hidden';
  document.getElementById("theMail").type="hidden";
  document.getElementById("mailLabel").className='hidden';
  document.getElementById("reMail").type="hidden";
  document.getElementById("reMailLabel").className='hidden';
  document.getElementById("oldUsername").type = "text";
  document.getElementById("oldUsernameLabel").className = '';
  document.getElementById("newUsername").type="text";
  document.getElementById("newUsernameLabel").className = '';
  document.getElementById("usernameWrong").innerHTML = '';
  document.getElementById("newUsernameWrong").innerHTML = '';
  document.getElementById("old_password").type="password";
  document.getElementById("oldPasswordLabel").className= '';
  document.getElementById("new_password").type="password";
  document.getElementById("newPasswordLabel").className='';
  document.getElementById("new_password_reentered").type="password";
  document.getElementById("reNewPasswordLabel").className='';
  document.getElementById("oldPasswordWrong").innerHTML = '';
  document.getElementById("newPasswordWrong").innerHTML = '';
  document.getElementById("passwordWrong").innerHTML = '';

}
if (optionSelected == 4) {
  document.getElementById("oldUsername").type = "text";
  document.getElementById("oldUsernameLabel").className = '';
  document.getElementById("newUsername").type="text";
  document.getElementById("newUsernameLabel").className = '';
  document.getElementById("usernameWrong").innerHTML = '';
  document.getElementById("newUsernameWrong").innerHTML = '';
  document.getElementById("old_password").type="password";
  document.getElementById("oldPasswordLabel").className= '';
  document.getElementById("new_password").type="password";
  document.getElementById("newPasswordLabel").className='';
  document.getElementById("new_password_reentered").type="password";
  document.getElementById("reNewPasswordLabel").className='';
  document.getElementById("oldPasswordWrong").innerHTML = '';
  document.getElementById("newPasswordWrong").innerHTML = '';
  document.getElementById("passwordWrong").innerHTML = '';
  document.getElementById("oldMail").type="email";
  document.getElementById("oldMailLabel").className='';
  document.getElementById("theMail").type="email";
  document.getElementById("mailLabel").className='';
  document.getElementById("reMail").type="email";
  document.getElementById("reMailLabel").className='';

}
}
</script>
      <script src="js/checkPassword.js"></script>

    </body>
</html>