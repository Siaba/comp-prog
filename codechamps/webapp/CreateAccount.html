<!doctype html>
<html class="no-js" lang="en" dir="ltr">

    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta http-equiv="x-ua-compatible" content="ie=edge, width=device-width">
        <title>Sign Up Form</title>
        
        <link href='http://fonts.googleapis.com/css?family=Nunito:400,300' rel='stylesheet' type='text/css'>
        <link rel="stylesheet" href="css/app.css">
        <link rel="stylesheet" href="css/foundation.css">
        <link rel="stylesheet" href="css/main.css">
        <link rel="stylesheet" href="css/blink.css">
	<link href="http://cdnjs.cloudflare.com/ajax/libs/foundicons/3.0.0/foundation-icons.css" rel="stylesheet">
    </head>

    <body>
<div class="nav">
<div class="top-bar">
  <div class="top-bar-left">
    <h3><i class="fi-crown" style="color: #3399ff;">&nbsp&nbsp</i><span>CodeChamps</span>
  </div>
  <div class="top-bar-right">
	<ul id="logindd" class="dropdown menu" data-dropdown-menu data-close-on-click-inside="false">
      		<li><a href="Home.html"><b style="font-size:26px" class="fi-home"></b></a></li>
		  	<li><a href="Account.html">Login</a>
				<ul class="menu vertical">
					<li><form action="/Account.html" method="post">
							<label><b>Username</b></label>
								<input type="text" name="user_name" placeholder="username" class="timeblock"/>
							<label><b>Password</b></label>
								<input type="password" name="user_password" placeholder="password" class="timeblock"/>
							<center><button type="submit" class="submit success button">Log in</button></center>
							<p><center>Don't have an account?<br> <a href="CreateAccount.html"><b>Create one now.</b></a></center></p>
						</form>
					</li>
		  		</ul>
		  	</li>
      		<li><a href="Versus.html">Game</a>
			<ul class="menu vertical">
				<li><a href="PracticeMode.html">Practice Mode</a></li>
				<li><a href="Versus.html">Versus Match</a></li>
			</ul>
		</li>
		<li><a href="Account.html">Account</a></li>
		<li><a href="Leaderboards.html">Leaderboards</a></li>
		<li><a href="History.html">History</a></li>
		<li><a href="CreateAccount.html">Sign Up</a></li>
   	</ul>
  </div>
  </div>
  </div>
      <form action="/CreateAccount.html" name = "signUp"
	    onsubmit="return checkBeforeSubmission()" method="post">
      <div class="legacysignupForm">
        <h1>Sign Up</h1>
        <p>* Required Fields</p>
        
        <fieldset>
          <legend>Enter your info:</legend>
          <label for="name">* First Name:</label>
          <input type="text" id="firstName" name="first_name" onblur="firstNameWrong()">
          <p id="firstNameWrong"></p>
          
          <label for="name">* Last Name:</label>
          <input type="text" id="lastName" name="last_name" onblur="lastNameWrong()">
          <p id="lastNameWrong"></p>

          <label for="name">* Your Username:</label>
          <input type="text" id="username" name="user_name" onblur="validUsername()">
          <p id="usernameWrong"></p>

          <label for="mail">* Email:</label>
          <input type="email" id="mail" name="user_email" onblur="checkFirstEmail()">
          <p id="originalEmailWrong"></p>

          <label for="mail">* Reenter Email:</label>
          <input type="email" id="reMail" name="user_reentered_email" onblur="checkEmail()">
          <p id="emailWrong"></p>
          
          <label for="password">* Password:</label>
          <input type="password" id="password" name="user_password" onblur="checkFirstPassword()">
          <p id="firstPasswordWrong"></p>
          <!--<input type="checkbox" id="showHide1" onclick="if(password.type=='text') { password.type='password'; password_reentered.type='password';}else { password.type='text'; password_reentered.type='text';}" unchecked>
            Show Password (Check Only if you are Alone)<br></br>
          </input>-->

          <label for="password">* Confirm Password:</label>
          <input type="password" id="password_reentered" name="user_confirm_password" onblur="checkPassword()">
          <p id="passwordWrong"></p>

          <label>* Age:</label>
          <input type="text" id="userAge" name="user_age" onblur="validAge()">
          <p id="ageWrong"></p>
        <label for="gender">* Gender:</label>
  		<input type="radio" name="gender" value="male" checked> Male<br>
 	    <input type="radio" name="gender" value="female"> Female<br>
  		<input type="radio" name="gender" value="prefer_not_to_say"> Prefer not to say<br><br>
		<label for="occupation">* Occupation (please select from the following):</label>
        <select id="occupation" name="user_occupation">
          <optgroup label="Occupation">Occupation
            <option value="Programmer">Programmer</option>
            <option value="Software Engineer">Software Engineer</option>
            <option value="Student">Student</option>
            <option value="Other">Other</option>
          </optgroup>
        </select>
        </fieldset>
        <button type="submit">Sign Up</button>
      	</form>
	</div>
	<script>
    	  function checkFirstEmail() {
    	  	var getEmail = document.getElementById("mail");
    	  	var eMail = getEmail.value;
    	  	eMail = eMail.replace(/\s+/g, '');
    	  	var At = 0;
    	  	var text = "";
			for (var i = 0; i < eMail.length; i++) {
    		if(eMail.charAt(i) == "@") {
    			At = 1;
    		}
			}
			if (eMail.length == 0) {
				text = "* Please enter an email.";
          		text = text.fontcolor("red");
         		document.getElementById("originalEmailWrong").innerHTML = text;
			}
			else if (!eMail.match(/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/)) {
				text = "* Email is not valid. Please retype.";
          		text = text.fontcolor("red");
         		document.getElementById("originalEmailWrong").innerHTML = text;
			}
			else {
				document.getElementById("originalEmailWrong").innerHTML = text;
			}
    	  }
    	</script>

        <script>
          function checkEmail() {
          	var getEmail = document.getElementById("mail");
          	var getReEmail = document.getElementById("reMail");
          	var email1 = getEmail.value;
  			var email2 = getReEmail.value;
  			var text = "";
  			email1 = email1.replace(/\s+/g, '');
  			email2 = email2.replace(/\s+/g, '');
  			if (email2.length == 0) {
				text = "* Please enter an email.";
          		text = text.fontcolor("red");
         		document.getElementById("emailWrong").innerHTML = text;
			}
          	else if (email1 != email2) {
          		text = "* Emails do not match. Please retype.";
          		text = text.fontcolor("red");
         		document.getElementById("emailWrong").innerHTML = text;
          	}
          	else {
         			document.getElementById("emailWrong").innerHTML = text;
         		}
          }
          </script>

          <script>
          	function checkFirstPassword() {
          		var getPassword = document.getElementById("password");
          		var password = getPassword.value;
          		var capital = 0;
          		var number = 0;
          		var text = "";
          		var whiteSpace = /\s/g;
          		if (password.match(/\s/g)) {
          			text = "* Please enter a password without whitespace characters.";
          			text = text.fontcolor("red");
         			document.getElementById("firstPasswordWrong").innerHTML = text;
				}
          		else if (password.length == 0) {
          			text = "* Please enter a password.";
          			text = text.fontcolor("red");
         			document.getElementById("firstPasswordWrong").innerHTML = text;
          		}
          		else if (password.length < 6) {
          			text = "* Please enter a password containing at least 6 characters, 1 capital letter and 1 number.";
          			text = text.fontcolor("red");
         			document.getElementById("firstPasswordWrong").innerHTML = text;
          		}
          		else if(!password.match((/^(?=.*[A-Z])(?=.*[a-z])(?=.*\d).*$/))) {
          			text = "* Please enter a password containing at least 1 capital letter and 1 number.";
          			text = text.fontcolor("red");
         			document.getElementById("firstPasswordWrong").innerHTML = text;
          		}
          		else {
          			document.getElementById("firstPasswordWrong").innerHTML = text;
          		}
          	}
          </script>

          

         <script>
         	function validAge() {
         		var getAge = document.getElementById("userAge");
         		var age = getAge.value;
         		var text = "";
         		if(age < 0 || age > 110) {
         			text = "* Please enter your real age.";
         			text = text.fontcolor("red");
         			document.getElementById("ageWrong").innerHTML = text;
         		}
         		else if(age =='') {
         			text = "* Please enter an age.";
         			text = text.fontcolor("red");
         			document.getElementById("ageWrong").innerHTML = text;
         		}
         		else if(isNaN(age)) {
         			text = "* Please enter your age as a number.";
         			text = text.fontcolor("red");
         			document.getElementById("ageWrong").innerHTML = text;
         		}
         		else {
         			document.getElementById("ageWrong").innerHTML = text;
         		}
         	}
         </script>
         <script>
         	function validUsername() {
         		var getUsername = document.getElementById("username");
         		var userName = getUsername.value;
         		var usernameRegexpression = /^[a-zA-Z0-9]+$/;
         		var text = "";
         		if (userName.length == 0) {
         			text = "* Please enter a username.";
         			text = text.fontcolor("red");
         			document.getElementById("usernameWrong").innerHTML = text;
         		}
         		else if (userName.length < 6) {
         			text = "* Please enter a username containing at least 6 characters.";
         			text = text.fontcolor("red");
         			document.getElementById("usernameWrong").innerHTML = text;
         		}
         		else if (!userName.match(usernameRegexpression)) {
         			text = "* Illegal character(s) detected. Please use only letters and numbers for your username.";
         			text = text.fontcolor("red");
         			document.getElementById("usernameWrong").innerHTML = text;
         		}
         		else {
         			document.getElementById("usernameWrong").innerHTML = text;
         		}
         	}
        </script>
        <script>
         	function firstNameWrong() {
         		var getFirstName = document.getElementById("firstName");
         		var firstName = getFirstName.value;
         		var firstName = firstName.replace(/\s+/g, '');
         		var text = "";
         		if (firstName.length == 0) {
         			text = "* Please enter a first name.";
         			text = text.fontcolor("red");
         			document.getElementById("firstNameWrong").innerHTML = text;
         		}
         		else {
         			document.getElementById("firstNameWrong").innerHTML = text;
         		}
         	}
        </script>
        <script>
         	function lastNameWrong() {
         		var getLastName = document.getElementById("lastName");
         		var lastName = getLastName.value;
         		var lastName = lastName.replace(/\s+/g, '');
         		var text = "";
         		if (lastName.length == 0) {
         			text = "* Please enter a last name.";
         			text = text.fontcolor("red");
         			document.getElementById("lastNameWrong").innerHTML = text;
         		}
         		else {
         			document.getElementById("lastNameWrong").innerHTML = text;
         		}
         	}
        </script>
      <script>
      function checkBeforeSubmission() {
      	 var getFirstName = document.getElementById("firstName");
      	 getFirstName = getFirstName.value.replace(/\s+/g, '');
      	 var getLastName = document.getElementById("lastName");
      	 getLastName = getLastName.value.replace(/\s+/g, '');
      	 var getUsername = document.getElementById("username");
      	 getUsername = getUsername.value.replace(/\s+/g, '');
      	 var getEmail = document.getElementById("mail");
      	 getEmail = getEmail.value.replace(/\s+/g, '');
      	 var getReEmail = document.getElementById("reMail");
      	 getReEmail = getReEmail.value.replace(/\s+/g, '');
      	 var getPassword = document.getElementById("password");
      	 getPassword = getPassword.value.replace(/\s+/g, '');
      	 var getRePassword = document.getElementById("password_reentered");
      	 getRePassword = getRePassword.value.replace(/\s+/g, '');
      	 var getAge = document.getElementById("userAge");
      	 getAge = getAge.value.replace(/\s+/g, '');
      	 var hasErrors = 0;
      	 if (getFirstName.length == 0 || getLastName.length == 0 || getUsername.length == 0 || getEmail == 0 || getReEmail == 0 || getPassword == 0 || getRePassword == 0) {
      	 	firstNameWrong();
      	 	lastNameWrong();
      	 	validUsername();
      	 	checkFirstEmail();
      	 	checkEmail();
      	 	checkFirstPassword();
      	 	checkPassword();
      	 	validAge();
      	 	hasErrors = 1;
      	 }
      	 if (hasErrors > 0) {
      	 	return false;
      	 }
      	 else {
      	 	return true;
      	 }
      }
      </script>
      <script src="js/checkPassword.js"></script>

    </body>
</html>
